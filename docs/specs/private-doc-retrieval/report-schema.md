# Runtime Report Schema Â· Private Knowledge Retrieval

This schema defines the JSON report generated by `npm run demo:pdr`.

## File: `/reports/private-doc-retrieval/<timestamp>.json`

```ts
type RunReport = {
  meta: {
    useCase: "private-doc-retrieval"
    version: string
    timestamp: string
    seed: number
  }
  config: {
    query: string
    budgets: { inner: number; outer: number }
    thresholds: { relevance: number; redundancy: number; steps: number }
  }
  steps: StepLog[]
  result: {
    converged: boolean
    finalHits: number
    meanRelevance: number
    redundancy: number
    entropy: number
    costUnits: number
    timeSeconds: number
    topDocs: Doc[]
    summary: string
  }
}

type StepLog = {
  step: number
  action: string
  hits: number
  feedback: {
    deltaRelevance: number
    deltaEntropy: number
    stability: number
  }
  ladderLevel: number
  budgetRemaining: { inner: number; outer: number }
  timestamp: string
}

type Doc = {
  id: string
  title: string
  url: string
  snippet: string
  score: number
  updatedAt?: string
  source?: string
}
```

## Example

```json
{
  "meta": {
    "useCase": "private-doc-retrieval",
    "version": "0.2",
    "timestamp": "2025-10-11T09:00:00Z",
    "seed": 42
  },
  "config": {
    "query": "production readiness checklist",
    "budgets": { "inner": 20, "outer": 6 },
    "thresholds": { "relevance": 0.75, "redundancy": 0.15, "steps": 4 }
  },
  "result": {
    "converged": true,
    "finalHits": 12,
    "meanRelevance": 0.81,
    "redundancy": 0.12,
    "entropy": 0.47,
    "costUnits": 7.3,
    "timeSeconds": 22.8,
    "topDocs": [
      { "id": "n123", "title": "Production Readiness Template", "url": "https://confluence.acme.com/x/123", "score": 0.92 },
      { "id": "n124", "title": "Service Onboarding Checklist", "url": "https://confluence.acme.com/x/124", "score": 0.88 }
    ],
    "summary": "Found 12 relevant docs across 3 namespaces; average freshness 9.8 months."
  }
}
```
